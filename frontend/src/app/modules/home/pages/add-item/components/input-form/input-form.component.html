<h1> Neues Portfolio-Item hinzuf端gen</h1>

<form class="form" [formGroup]="pItemForm" (ngSubmit)="onSubmit()">

  <div class="row">

    <!-- old
    <div class="container">
      <mat-form-field>
        <mat-label>WKN</mat-label>
        <input matInput id="wkn" (blur)="onBlurWKN()" maxlength="6" value="wkn" type="text"  formControlName="wkn"/>
        <mat-error class="error" *ngIf="(this.errorMap.get('wkn')?.length || 0) >=1">{{errorMap.get('wkn')}}</mat-error>
      </mat-form-field>
    </div>
    -->

    <!-- new -->
    <div class="container">
      <mat-form-field>
        <mat-label>ISIN</mat-label>
        <input matInput id="isin" (blur)="onBlurISIN()" maxlength="6" value="isin" type="text"  formControlName="isin"/>
        <mat-error class="error" *ngIf="(this.errorMap.get('isin')?.length || 0) >=1">{{errorMap.get('isin')}}</mat-error>
      </mat-form-field>
    </div>

    <div class="container">
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input matInput id="name" maxlength="255" type="text" formControlName="name" />
        <mat-error class="error" *ngIf="(this.errorMap.get('name')?.length || 0) >=1">{{errorMap.get('name')}}</mat-error>
      </mat-form-field>
    </div>

    <div class="container">
      <mat-form-field>
        <mat-label>Kategorie</mat-label>
        <input matInput id="category" maxlength="255" type="text" formControlName="category" />
        <mat-error class="error" *ngIf="(this.errorMap.get('category')?.length || 0) >=1">{{errorMap.get('category')}}</mat-error>
      </mat-form-field>
    </div>

  </div>

  <div class="container">
    <mat-form-field>
      <mat-label>Beschreibung</mat-label>
      <textarea matInput id="description" maxlength="255" type="text" formControlName="description"
                (keyup)="onKeyUpDescription($event)"></textarea>
      <mat-error class="error" *ngIf="(this.errorMap.get('description')?.length || 0) >=1">{{errorMap.get('description')}}</mat-error>
      <mat-hint class="hint" align="end">{{this.leftSigns}} / 255 Zeichen</mat-hint>
    </mat-form-field>
  </div>

  <div class="row bottom">

    <div class="container">
      <mat-form-field>
        <mat-label>Anzahl</mat-label>
        <input matInput id="quantity" maxlength="255" formControlName="quantity" (input)="onInputQuantity($event)" />
        <mat-error class="error" *ngIf="(this.errorMap.get('quantity')?.length || 0) >=1">{{errorMap.get('quantity')}}</mat-error>
      </mat-form-field>
    </div>

    <div class="container">
      <mat-form-field>
        <mat-label>Kaufpreis pro St端ck</mat-label>
        <input matInput id="purchase-price" type="text" maxlength="255" formControlName="purchasePrice"
               (input)="onInputPurchasePrice($event)" (keydown)="onKeyDownPrice($event)" (blur)="transformPrice($event)"  />
        <mat-error class="error" *ngIf="(this.errorMap.get('purchasePrice')?.length || 0) >=1">{{errorMap.get('purchasePrice')}}</mat-error>
      </mat-form-field>
    </div>

  </div>

  <div class="button-area">
    <button [type]="'submit'">Hinzuf端gen</button>
    <button [type]="'button'" (click)="clearForm()">Zur端cksetzen</button>
  </div>

</form>
